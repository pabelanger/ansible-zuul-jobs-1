---
- job:
    name: base
    parent: base-minimal
    abstract: true
    description: |
      The base job for the Ansible installation of Zuul.
    pre-run: playbooks/base/pre.yaml

- job:
    name: ansible-tox-linters
    parent: tox-linters
    nodeset: fedora-latest-1vcpu

- job:
    name: ansible-tox-py27
    parent: tox-py27
    nodeset: centos-7-1vcpu

- job:
    name: ansible-tox-py36
    parent: tox-py36
    nodeset: fedora-latest-1vcpu

- job:
    name: ansible-tox-py37
    parent: tox-py37
    nodeset: fedora-latest-1vcpu

- job:
    name: ansible-build-python-tarball
    description: |
      Test building python tarballs / wheels and the packaging metadata
    pre-run: playbooks/ansible-build-python-tarball/pre.yaml
    run: playbooks/ansible-build-python-tarball/run.yaml
    nodeset: fedora-latest-1vcpu
    vars:
      release_python: python3
      bdist_wheel_xargs: "--universal"

- job:
    name: ansible-network-vyos-base
    pre-run: playbooks/ansible-network-vyos-base/pre.yaml
    run: playbooks/ansible-network-vyos-base/run.yaml
    post-run: playbooks/ansible-network-vyos-base/post.yaml
    host-vars:
      vyos-1.1.8:
        ansible_connection: network_cli
        ansible_network_os: vyos
        ansible_python_interpreter: python
    required-projects:
      - name: github.com/ansible/ansible-zuul-jobs
    nodeset: vyos-1.1.8-python3
